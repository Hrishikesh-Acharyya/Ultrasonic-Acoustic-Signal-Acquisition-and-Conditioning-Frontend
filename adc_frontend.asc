Version 4.1
SHEET 1 3952 1060
WIRE -1024 -64 -1088 -64
WIRE -880 -64 -944 -64
WIRE 16 -48 -160 -48
WIRE 240 -48 80 -48
WIRE 736 -32 592 -32
WIRE 960 -32 800 -32
WIRE -1088 48 -1088 -64
WIRE -1024 48 -1088 48
WIRE -880 48 -880 -64
WIRE -880 48 -960 48
WIRE 96 48 32 48
WIRE 240 48 240 -48
WIRE 240 48 176 48
WIRE 1472 48 1280 48
WIRE 1760 48 1552 48
WIRE 816 64 752 64
WIRE 960 64 960 -32
WIRE 960 64 896 64
WIRE 2336 64 2144 64
WIRE 2608 64 2416 64
WIRE 272 128 272 -160
WIRE 272 128 112 128
WIRE -832 144 -832 -160
WIRE -832 144 -1008 144
WIRE 1008 144 1008 -176
WIRE 1008 144 832 144
WIRE 1600 144 1472 144
WIRE 1760 144 1760 48
WIRE 1760 144 1664 144
WIRE 3120 144 3104 144
WIRE 3216 144 3200 144
WIRE -1008 160 -1008 144
WIRE 2448 160 2320 160
WIRE 2608 160 2608 64
WIRE 2608 160 2512 160
WIRE -1840 176 -1952 176
WIRE -1584 176 -1760 176
WIRE -1456 176 -1456 48
WIRE -1456 176 -1504 176
WIRE -1376 176 -1456 176
WIRE -1280 176 -1296 176
WIRE -1088 176 -1088 48
WIRE -1088 176 -1280 176
WIRE -1040 176 -1088 176
WIRE 112 176 112 128
WIRE -880 192 -880 48
WIRE -880 192 -976 192
WIRE -560 192 -560 96
WIRE -560 192 -880 192
WIRE -352 192 -560 192
WIRE -208 192 -288 192
WIRE -160 192 -160 -48
WIRE -160 192 -208 192
WIRE -96 192 -160 192
WIRE 32 192 32 48
WIRE 32 192 -32 192
WIRE 80 192 32 192
WIRE 832 192 832 144
WIRE 1792 192 1792 -160
WIRE 1792 192 1568 192
WIRE 240 208 240 48
WIRE 240 208 144 208
WIRE 288 208 240 208
WIRE 416 208 288 208
WIRE 528 208 480 208
WIRE 592 208 592 -32
WIRE 592 208 528 208
WIRE 640 208 592 208
WIRE 752 208 752 64
WIRE 752 208 704 208
WIRE 800 208 752 208
WIRE 1568 208 1568 192
WIRE 2640 208 2640 -160
WIRE 2640 208 2416 208
WIRE 960 224 960 64
WIRE 960 224 864 224
WIRE 1008 224 960 224
WIRE 1104 224 1008 224
WIRE 1232 224 1184 224
WIRE 1280 224 1280 48
WIRE 1280 224 1232 224
WIRE 1344 224 1280 224
WIRE 1472 224 1472 144
WIRE 1472 224 1424 224
WIRE 1536 224 1472 224
WIRE 2416 224 2416 208
WIRE 1760 240 1760 144
WIRE 1760 240 1600 240
WIRE 1824 240 1760 240
WIRE 1952 240 1824 240
WIRE 2080 240 2032 240
WIRE 2144 240 2144 64
WIRE 2144 240 2080 240
WIRE 2192 240 2144 240
WIRE 2320 240 2320 160
WIRE 2320 240 2272 240
WIRE 2384 240 2320 240
WIRE 3248 240 3248 -160
WIRE 3248 240 3152 240
WIRE 2608 256 2608 160
WIRE 2608 256 2448 256
WIRE 2656 256 2608 256
WIRE 2848 256 2656 256
WIRE 2992 256 2912 256
WIRE 3104 256 3104 144
WIRE 3104 256 3072 256
WIRE 3120 256 3104 256
WIRE 3216 272 3216 144
WIRE 3216 272 3184 272
WIRE 3360 272 3216 272
WIRE 3488 272 3440 272
WIRE 3856 272 3488 272
WIRE -1376 288 -1376 176
WIRE -1360 288 -1376 288
WIRE -1280 288 -1280 176
WIRE -1280 288 -1296 288
WIRE -208 288 -208 192
WIRE 288 288 288 208
WIRE 528 288 528 208
WIRE 1008 288 1008 224
WIRE 1232 288 1232 224
WIRE 1824 288 1824 240
WIRE 2080 288 2080 240
WIRE 2656 288 2656 256
WIRE 3120 288 3088 288
WIRE 3088 416 3088 288
WIRE 3088 416 2880 416
WIRE 3392 416 3088 416
WIRE 3392 448 3392 416
WIRE 3088 576 3088 496
WIRE 3392 576 3392 512
WIRE 3392 576 3088 576
WIRE 2880 592 2880 576
WIRE 3088 592 3088 576
FLAG -208 368 0
FLAG 112 320 0
FLAG 272 -240 0
FLAG 528 368 0
FLAG 832 336 0
FLAG 1008 -256 0
FLAG 1232 352 0
FLAG 1536 256 0
FLAG 800 240 0
FLAG 80 224 0
FLAG 1568 352 0
FLAG 1792 -240 0
FLAG 2080 352 0
FLAG 2416 368 0
FLAG 2640 -240 0
FLAG -832 -240 0
FLAG -1008 304 0
FLAG -560 96 charge_amp_output
FLAG 3088 592 0
FLAG 2880 592 0
FLAG 3856 272 output
FLAG 3152 304 0
FLAG 3248 -240 0
FLAG 3488 336 0
FLAG -1040 208 0
FLAG 2384 272 0
FLAG -2032 176 0
FLAG -1456 48 input
FLAG 288 288 H_S1_OUT
FLAG 1008 288 H_S2_OUT
FLAG 1824 288 L_S1_OUT
FLAG 2656 288 L_S2_OUT
FLAG -1632 304 0
SYMBOL OpAmps\\UniversalOpAmp 112 208 R0
WINDOW 0 -55 -54 Left 1
SYMATTR InstName HPF_STAGE1
SYMATTR Value2 Avol=1Meg GBW=100meg Vos=0
SYMBOL cap -288 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1_HPF_s1
SYMATTR Value {mc(1n,{C_tol})}
SYMBOL res -224 272 R0
SYMATTR Value {mc(2k,{R_tol})}
SYMATTR InstName R1_HPF_S1
SYMATTR SpiceLine tol=1
SYMBOL cap -32 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2_HPF_S1
SYMATTR Value {mc(2.2n,{C_tol})}
SYMBOL res 192 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2_HPF_S1
SYMATTR Value {mc(4.7k,R_tol)}
SYMATTR SpiceLine tol=1
SYMBOL cap 80 -64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3_HPF_S1
SYMATTR Value {mc(1n,{C_tol})}
SYMBOL voltage 272 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {V_pos}
SYMBOL voltage 112 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {V_neg}
SYMBOL OpAmps\\UniversalOpAmp 832 224 R0
WINDOW 0 -60 -55 Left 1
SYMATTR InstName HPF_STAGE2
SYMATTR Value2 Avol=1Meg GBW=100meg Vos=0
SYMBOL cap 480 192 R90
WINDOW 0 67 32 VBottom 2
WINDOW 3 -125 18 Top 2
SYMATTR InstName C1_HPF_S2
SYMATTR Value {mc(680p,{C_tol})}
SYMBOL res 512 272 R0
SYMATTR Value {mc(1470,{R_tol})}
SYMATTR InstName R1_HPF_S2
SYMATTR SpiceLine tol=1
SYMBOL cap 704 192 R90
WINDOW 0 -8 29 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2_HPF_S2
SYMATTR Value {mc(1n,{C_tol})}
SYMBOL res 912 48 R90
WINDOW 0 -4 53 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2_HPF_S2
SYMATTR Value {mc(20.62k,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL cap 800 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 46 32 VCenter 2
SYMATTR InstName C3_HPF_S2
SYMATTR Value {mc(680p,{C_tol})}
SYMBOL voltage 1008 -160 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {V_pos}
SYMBOL voltage 832 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value {V_neg}
SYMBOL OpAmps\\UniversalOpAmp 1568 240 R0
WINDOW 0 -74 -44 Left 1
SYMATTR InstName LPF_STAGE1
SYMATTR Value2 Avol=1Meg GBW=100meg Vos=0
SYMBOL res 1200 208 R90
WINDOW 0 71 54 VBottom 2
WINDOW 3 -124 42 Top 2
SYMATTR InstName R1_LPF_S1
SYMATTR Value {mc(1582,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL res 1440 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2_LPF_S1
SYMATTR Value {mc(4600,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL res 1568 32 R90
WINDOW 0 -11 50 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3_LPF_S1
SYMATTR Value {mc(1582,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL cap 1216 288 R0
WINDOW 3 26 44 Left 2
WINDOW 0 27 12 Left 2
SYMATTR Value {mc(2.2n,{C_tol})}
SYMATTR InstName C1_LPF_S1
SYMBOL cap 1664 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 27 31 VTop 2
SYMATTR InstName C2_LPF_S1
SYMATTR Value {mc(470p,{C_tol})}
SYMBOL voltage 1792 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value {V_pos}
SYMBOL voltage 1568 256 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value {V_neg}
SYMBOL OpAmps\\UniversalOpAmp 2416 256 R0
WINDOW 0 16 -32 Left 1
SYMATTR InstName LPF_STAGE2
SYMATTR Value2 Avol=1Meg GBW=100meg Vos=0
SYMBOL res 2048 224 R90
WINDOW 0 62 49 VBottom 2
WINDOW 3 -120 45 Top 2
SYMATTR InstName R1_LPF_S2
SYMATTR Value {mc(2530,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL res 2288 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 26 55 VTop 2
SYMATTR InstName R2_LPF_S2
SYMATTR Value {mc(1910,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL res 2432 48 R90
WINDOW 0 -10 45 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3_LPF_S2
SYMATTR Value {mc(2530,{R_tol})}
SYMATTR SpiceLine tol=1
SYMBOL cap 2064 288 R0
WINDOW 0 36 31 Left 2
SYMATTR InstName C1_LPF_S2
SYMATTR Value {mc(4.7n,{C_tol})}
SYMBOL cap 2512 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 24 32 VTop 2
SYMATTR InstName C2_LPF_S2
SYMATTR Value {mc(330p,{C_tol})}
SYMBOL voltage 2640 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {V_pos}
SYMBOL voltage 2416 272 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value {V_neg}
SYMBOL OpAmps\\UniversalOpAmp -1008 192 R0
WINDOW 0 -48 -65 Left 1
SYMATTR InstName Charge_amp
SYMATTR Value2 Avol=1Meg GBW=100meg Vos=0
SYMBOL cap -960 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 30 32 VTop 2
SYMATTR InstName Cf
SYMATTR Value {mc(2.2n,{C_tol})}
SYMBOL res -928 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rf
SYMATTR Value {mc(287k,{R_tol})}
SYMBOL voltage -832 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V14
SYMATTR Value {V_pos}
SYMBOL voltage -1008 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V15
SYMATTR Value {V_neg}
SYMBOL res 3072 400 R0
WINDOW 3 56 81 Left 2
WINDOW 0 68 46 Left 2
SYMATTR Value {mc(100k,{R_tol})}
SYMATTR InstName R_BIAS_2
SYMATTR SpiceLine tol=1
SYMBOL res 2864 400 R0
WINDOW 3 -29 168 VLeft 2
SYMATTR Value {mc(100k,{R_tol})}
SYMATTR InstName R_BIAS_1
SYMATTR SpiceLine tol=1
SYMBOL voltage 2880 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 34 55 Left 2
SYMATTR Value {V_last_stage}
SYMATTR InstName VCC
SYMBOL cap 3376 448 R0
WINDOW 3 37 39 Left 2
SYMATTR Value {mc(4.7u,{C_tol})}
SYMATTR InstName C_NOISE_REMOVAL
SYMBOL voltage -1488 176 R90
WINDOW 0 -52 19 VRight 2
WINDOW 3 45 -60 VRight 2
WINDOW 123 66 32 VRight 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V_pizo
SYMATTR Value SINE(0 47.5m 45k)
SYMATTR Value2 AC 1
SYMBOL cap -1296 272 R90
WINDOW 0 -1 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C_pizo
SYMATTR Value 22n
SYMBOL res -1280 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 26 46 VTop 2
SYMATTR InstName R_pizo
SYMATTR Value 287k
SYMBOL OpAmps\\UniversalOpAmp 3152 272 R0
WINDOW 0 -60 65 Left 1
SYMATTR InstName INVERTING_BUFFER
SYMATTR Value2 Avol=1Meg GBW=100meg Vos=0
SYMBOL res 3088 240 R90
WINDOW 0 54 63 VBottom 2
WINDOW 3 -118 73 Bottom 2
SYMATTR InstName R1
SYMATTR Value {mc(10k,{R_tol})}
SYMBOL res 3216 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {mc(10k,{R_tol})}
SYMBOL voltage 3248 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value {V_last_stage}
SYMBOL res 3456 256 R90
WINDOW 0 -4 38 VBottom 2
WINDOW 3 29 107 VTop 2
SYMATTR InstName R_FEEDTHROUGH
SYMATTR Value {mc(100,{R_tol})}
SYMBOL cap 3472 272 R0
WINDOW 0 42 31 Left 2
SYMATTR InstName C_FEEDTHROUGH
SYMATTR Value {mc(1.5n,{C_tol})}
SYMBOL cap 2912 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 27 37 VTop 2
SYMATTR InstName C_DC_COUPLING
SYMATTR Value {mc(100n,{C_tol})}
SYMBOL voltage -1744 176 R90
WINDOW 0 -40 48 VBottom 2
WINDOW 3 63 45 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_2ND_H
SYMATTR Value SINE(0 10m 90k)
SYMBOL voltage -1936 176 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_3RD_H
SYMATTR Value SINE(0 40m 135k)
TEXT 864 848 Left 2 ;.ac dec 100 30k 75k
TEXT 864 880 Left 2 !.tran 0 1.1m 1m
TEXT -1200 464 Left 4 ;CHARGE AMPLIFIER
TEXT -120 464 Left 4 ;HPF_STAGE_1
TEXT -88 520 Left 4 ;Q = 0.5412
TEXT 600 456 Left 4 ;HPF_STAGE_2
TEXT 624 504 Left 4 ;Q = 1.3065
TEXT 1368 464 Left 4 ;LPF_STAGE_1\nQ = 0.5412
TEXT 2160 456 Left 4 ;LPF_STAGE_2\nQ = 1.3065
TEXT 2808 688 Left 4 ;INVERTING BUFFER + FEEDTHROUGH REMOVAL
TEXT 968 1032 Left 2 ;SIMULATION DIRECTIVES
TEXT -2000 384 Left 4 ;HARMONICS
TEXT 864 944 Left 2 !.step param run 1 100 1
TEXT 864 912 Left 2 !.meas AC Vout_complex FIND V(output) AT 45k
TEXT 392 792 Left 2 !.param R_tol=0.01
TEXT 392 840 Left 2 !.param C_tol=0.05
TEXT 392 880 Left 2 !.param V_pos=5V
TEXT 392 920 Left 2 !.param V_neg=-5V
TEXT 392 960 Left 2 !.param V_last_stage=3.3V
TEXT 376 1040 Left 3 ;Simulation Parameters
RECTANGLE Normal -464 416 -1664 -320 2
RECTANGLE Normal 320 416 -432 -320 2
RECTANGLE Normal 1056 416 336 -320 2
RECTANGLE Normal 1872 416 1072 -320 2
RECTANGLE Normal 2704 416 1888 -320 2
RECTANGLE Normal 3744 640 2720 -320 2
RECTANGLE Normal -1680 352 -2128 32 2
RECTANGLE Normal 1472 1008 800 800 2
RECTANGLE Normal 736 1008 320 736 2
